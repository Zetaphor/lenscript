<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Lenscript Browser Demo</title>
  <link rel="stylesheet" href="index.css">
</head>

<body>
  <h1 class="title">Lenscript Browser Demo</h1>
  <div class="container">
    <div class="column">
      <div class="row">
        <div draggable="true" class="test-object" data-name="testObject1">
          <p>testObject1</p>
        </div>
        <div draggable="true" class="test-object" data-name="testObject2">testObject2</div>
        <div draggable="true" class="test-object" data-name="testObject3">testObject3</div>
        <div draggable="true" class="test-object" data-name="testObject4">testObject4</div>
      </div>
      <div class="editor">
        <select id="objectSelector">
          <option default value="disabled">Select object to view scripts</option>
          <option value="testObject1">Object 1</option>
          <option value="testObject2">Object 2</option>
          <option value="testObject3">Object 3</option>
          <option value="testObject4">Object 4</option>
        </select>
        <textarea></textarea>
        <button id="btnValidate">Validate</button>
        <button id="btnSave">Save</button>
        <p id="validationOutput"></p>
      </div>
    </div>
    <div class="column">
      <h1 class="title">Action Log</h1>
      <div id="actionLog"></div>
    </div>
  </div>
  <div class="explainer">
    <h1 class="title">About This Demo</h1>
    <p>This page is designed to serve as a reference implementation for <a
        href="https://github.com/Zetaphor/lenscript">the Lenscript engine</a>.</p>
    <p>In Lenscript an implementation of the engine into a specific platform is referred to as an interface. The
      underlying engine is designed to be interface agnostic, supporting custom grammar to enable bespoke
      implementations of natural language scripting into any platform.</p>
    <p>In this demo a browser specific grammar has been loaded, and the above interface allows you to interact with that
      grammar
      to run triggers and actions. </p>
    <p>The browser grammar for this page <a
        href="https://github.com/Zetaphor/lenscript/blob/main/interfaces/browser/browser_grammar.js" target="_blank">can
        be found here</a>. The implementation code for both this
      UI
      and its interaction with the Lenscript engine <a
        href="https://github.com/Zetaphor/lenscript/blob/main/interfaces/browser/browser.js" target="_blank">can be
        found here</a>.</p>
    </p>
    <p><a href="https://github.com/Zetaphor/lenscript/wiki" target="_blank">Refer to the documentation for
        information</a>.</p>

    <p>The following triggers and actions have been implemented:</p>

    <h3 class="title">Triggers</h3>
    <table>
      <thead>
        <tr>
          <th>Trigger Name</th>
          <th>Description</th>
          <th>Example</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>started</td>
          <td>Fired when the object is created</td>
          <td>when started</td>
        </tr>
        <tr>
          <td>touchStart</td>
          <td>Fired when the mouse is pressed down on the object</td>
          <td>when touch started</td>
        </tr>
        <tr>
          <td>touchEnd</td>
          <td>Fired when the mouse was previously held down on the object, and then is released</td>
          <td>when touched</td>
        </tr>
        <tr>
          <td>hoverStart</td>
          <td>Fired when the mouse enters the objects bounding box</td>
          <td>when hover started</td>
        </tr>
        <tr>
          <td>hovering</td>
          <td>Fired when the mouse is moved over the object</td>
          <td>when hovering</td>
        </tr>
        <tr>
          <td>hoverEnd</td>
          <td>Fired when the mouse leaves the objects bounding box</td>
          <td>when hovered</td>
        </tr>
        <tr>
          <td>grabStart</td>
          <td>Fired when a drag operation starts on the object</td>
          <td>when grabbed</td>
        </tr>
        <tr>
          <td>grabEnd</td>
          <td>Fired when a drag operation ends on the object</td>
          <td>when dropped</td>
        </tr>
      </tbody>
    </table>

    <h3 class="title">Actions</h3>
    <table>
      <thead>
        <tr>
          <th>Action Name</th>
          <th>Description</th>
          <th>Parameters</th>
          <th>Example</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>remember</td>
          <td>Saves a value to an objects variable store. This value can only be read by this object</td>
          <td>name: the name of the variable, value: the value to stored (all values are cast to strings)</td>
          <td>when touched remember counter 1, remember name Bob</td>
        </tr>
        <tr>
          <td>save</td>
          <td>Saves a value to an global scene variable store. These values can be read by all objects</td>
          <td>name: the name of the variable, value: the value to stored (all values are cast to strings)</td>
          <td>when touched remember counter 1, save name Bob</td>
        </tr>
        <tr>
          <td>become</td>
          <td>Transition the object to another state</td>
          <td>name: the name of the new state</td>
          <td>when touched then become 2, become second</td>
        </tr>
        <tr>
          <td>visibility</td>
          <td>Set the visibility for the object</td>
          <td>value: visible or hidden</td>
          <td>when touched then set visibility hidden</td>
        </tr>
        <tr>
          <td>bgColor</td>
          <td>Set the background color of the object</td>
          <td>value: hex color, color name, or rgb values separated by a space</td>
          <td>when touched then set bg color #ff0000, set bg color red, set bg color 255 0 0</td>
        </tr>
        <tr>
          <td>textColor</td>
          <td>Set the text color of the object</td>
          <td>value: hex color, color name, or rgb values separated by a space</td>
          <td>when touched then set text color #ff0000, set text color red, set text color 255 0 0</td>
        </tr>
        <tr>
          <td>rotation</td>
          <td>Set the rotation of the object</td>
          <td>value: the rotation of the object, in degrees</td>
          <td>when touched then set rotation 45</td>
        </tr>
        <tr>
          <td>scale</td>
          <td>Set the scale of the object</td>
          <td>value: the scale of the object, as a multiplier (ex: 2 is 2x scale)</td>
          <td>when touched then set scale 2</td>
        </tr>
      </tbody>
    </table>
  </div>

  <script src="./browser.js" type="module"></script>

  <!-- GitHub corner -->
  <a href="https://github.com/Zetaphor/lenscript" class="github-corner" aria-label="View source on GitHub"><svg
      width="80" height="80" viewBox="0 0 250 250"
      style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
      <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
      <path
        d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
        fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
      <path
        d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
        fill="currentColor" class="octo-body"></path>
    </svg></a>
  <style>
    .github-corner:hover .octo-arm {
      animation: octocat-wave 560ms ease-in-out
    }

    @keyframes octocat-wave {

      0%,
      100% {
        transform: rotate(0)
      }

      20%,
      60% {
        transform: rotate(-25deg)
      }

      40%,
      80% {
        transform: rotate(10deg)
      }
    }

    @media (max-width:500px) {
      .github-corner:hover .octo-arm {
        animation: none
      }

      .github-corner .octo-arm {
        animation: octocat-wave 560ms ease-in-out
      }
    }
  </style>
</body>

</html>